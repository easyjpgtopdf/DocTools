<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Png To Ico - Online Free Tool | easyjpgtopdf</title>
<meta name="description" content="Use our free Png To Ico tool online. Fast, secure, and easy to use.">
<meta name="keywords" content="png-to-ico, png to ico, free png-to-ico, online png-to-ico">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://easyjpgtopdf.com/png-to-ico-convert.html">
<link href="css/footer.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
:root{--primary:#4361ee;--secondary:#3a0ca3;--accent:#4cc9f0;--light:#f8f9fa;--dark:#212529;--gray:#6c757d;--card:#ffffff;--border:#e5e7eb;--brand:var(--primary);--brand-dark:var(--secondary)}
body{background-color:#f5f7ff;color:var(--dark);min-height:100vh;display:flex;flex-direction:column;line-height:1.6}
.container{max-width:1400px;margin:0 auto;padding:0 24px}
.hero{background:linear-gradient(135deg,var(--primary),var(--secondary));color:#fff;padding:40px 0;text-align:center;margin-bottom:24px}
.workbench{display:flex;gap:22px;align-items:flex-start}
.panel{background:var(--card);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:20px}
.left{flex:0 0 70%;min-width:0}
.right{flex:0 0 30%;min-width:280px;display:flex;flex-direction:column;align-self:flex-start;position:sticky;top:90px}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:12px;margin-top:16px}
.preview-item{border:1px solid var(--border);border-radius:8px;overflow:hidden;background:#fafafa;display:flex;align-items:center;justify-content:center;aspect-ratio:1;padding:10px}
.btn{display:inline-flex;align-items:center;gap:8px;background:var(--primary);color:#fff;border:none;border-radius:40px;padding:10px 16px;cursor:pointer;transition:.2s transform,.2s box-shadow}
.btn:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(67,97,238,.25)}
.btn.secondary{background:#fff;color:var(--primary);border:1px solid var(--primary)}
.muted{color:var(--gray);font-size:.9rem}
footer{background:var(--dark);color:#fff;padding:40px 0 20px;margin-top:24px}
@media (max-width: 992px){
  .left{flex:1 1 100%}
  .right{flex:1 1 100%;position:static}
  .workbench{flex-direction:column}
}
</style>
<link href="css/header.css" rel="stylesheet"/>
<link href="css/theme-modern.css" rel="stylesheet"/>
<link rel="stylesheet" href="css/voice-assistant.css">
<script src="js/voice-assistant.js" defer></script>
            <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Png To Ico - Online Free Tool | easyjpgtopdf",
      "description": "Use our free Png To Ico tool online. Fast, secure, and easy to use.",
      "url": "https://easyjpgtopdf.com/png-to-ico-convert.html",
      "inLanguage": "en-US",
      "isPartOf": {
        "@type": "WebSite",
        "name": "easyjpgtopdf",
        "url": "https://easyjpgtopdf.com"
      },
      "publisher": {
        "@type": "Organization",
        "name": "easyjpgtopdf",
        "url": "https://easyjpgtopdf.com"
      }
    }
    </script>
</head>
<body>
<div id="global-header-placeholder"></div>
<nav aria-label="Breadcrumb" style="padding: 15px 0; background: #f8f9ff; border-bottom: 1px solid #e2e6ff;">
<div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 24px;">
<ol style="list-style: none; display: flex; flex-wrap: wrap; gap: 10px; margin: 0; padding: 0; align-items: center;">
<li><a href="index.html" style="color: #4361ee; text-decoration: none; font-weight: 500;">Home</a></li>
<li><span style="margin: 0 8px; color: #9ca3af;">|</span></li>
<li><a href="png-to-ico.html" style="color: #56607a; text-decoration: none; font-weight: 500;">PNG to ICO</a></li>
</ol>
</div>
</nav>
<section class="hero">
<div class="container">
<h1>Png To Ico - Online Free Tool</h1>
<p>Your file has been processed. Preview and download below.</p>
</div>
</section>
<main class="container">
<div class="workbench">
<div class="panel left">
<h2>Upload File</h2>
<div id="preview" class="preview-grid" style="margin-top:20px;">
<div class="preview-item" style="flex-direction:column;padding:30px;">
<i class="fas fa-file-image" style="font-size:4rem;color:var(--primary);margin-bottom:15px;"></i>
<div style="font-size:1.1rem;font-weight:600;color:var(--dark);margin-bottom:5px;">converted.ico</div>
<div style="font-size:0.9rem;color:var(--gray);">Ready to download</div>
</div>
</div>
<div style="margin-top:30px;display:flex;justify-content:space-between;align-items:center;gap:15px;padding-top:20px;border-top:1px solid var(--border);">
<a class="btn secondary" href="png-to-ico.html" style="font-size:32px;padding:20px 32px;flex:1;text-align:center;text-decoration:none;display:flex;align-items:center;justify-content:center;gap:12px;"><i class="fas fa-arrow-left"></i> Back</a>
<button class="btn" id="convertBtn" style="font-size:32px;padding:20px 32px;flex:1;background:linear-gradient(135deg,#4cc9f0,#4361ee);display:flex;align-items:center;justify-content:center;gap:12px;"><i class="fas fa-download"></i> DOWNLOAD</button>
</div>
</div>
<div class="panel right">
<div style="text-align:center;padding:20px;">
<h3 style="margin-bottom:20px;color:var(--primary);">Output Format</h3>
<div style="margin-bottom:20px;text-align:left;max-height:400px;overflow-y:auto;">
<label style="display:flex;align-items:center;padding:12px;background:#f8f9ff;border-radius:8px;margin-bottom:10px;cursor:pointer;border:2px solid var(--primary);">
<input type="radio" name="outputFormat" value="ico" checked style="margin-right:10px;cursor:pointer;">
<span style="flex:1;font-weight:600;color:var(--dark);">ICO Format</span>
<i class="fas fa-file-image" style="color:var(--primary);"></i>
</label>
<label style="display:flex;align-items:center;padding:12px;background:#f8f9ff;border-radius:8px;margin-bottom:10px;cursor:pointer;border:2px solid #e5e7eb;">
<input type="radio" name="outputFormat" value="jpg" style="margin-right:10px;cursor:pointer;">
<span style="flex:1;font-weight:600;color:var(--dark);">JPG Format</span>
<i class="fas fa-file-image" style="color:var(--primary);"></i>
</label>
<label style="display:flex;align-items:center;padding:12px;background:#f8f9ff;border-radius:8px;margin-bottom:10px;cursor:pointer;border:2px solid #e5e7eb;">
<input type="radio" name="outputFormat" value="svg" style="margin-right:10px;cursor:pointer;">
<span style="flex:1;font-weight:600;color:var(--dark);">SVG Format</span>
<i class="fas fa-file-image" style="color:var(--primary);"></i>
</label>
<label style="display:flex;align-items:center;padding:12px;background:#f8f9ff;border-radius:8px;margin-bottom:10px;cursor:pointer;border:2px solid #e5e7eb;">
<input type="radio" name="outputFormat" value="bmp" style="margin-right:10px;cursor:pointer;">
<span style="flex:1;font-weight:600;color:var(--dark);">BMP Format</span>
<i class="fas fa-file-image" style="color:var(--primary);"></i>
</label>
<label style="display:flex;align-items:center;padding:12px;background:#f8f9ff;border-radius:8px;margin-bottom:10px;cursor:pointer;border:2px solid #e5e7eb;">
<input type="radio" name="outputFormat" value="tiff" style="margin-right:10px;cursor:pointer;">
<span style="flex:1;font-weight:600;color:var(--dark);">TIFF Format</span>
<i class="fas fa-file-image" style="color:var(--primary);"></i>
</label>
<label style="display:flex;align-items:center;padding:12px;background:#f8f9ff;border-radius:8px;cursor:pointer;border:2px solid #e5e7eb;">
<input type="radio" name="outputFormat" value="avif" style="margin-right:10px;cursor:pointer;">
<span style="flex:1;font-weight:600;color:var(--dark);">AVIF Format</span>
<i class="fas fa-file-image" style="color:var(--primary);"></i>
</label>
</div>
<h3 style="margin-bottom:20px;color:var(--primary);margin-top:30px;">Download Options</h3>
<button class="btn" id="downloadBtn" style="width:100%;margin-bottom:10px;">
<i class="fas fa-download"></i> Download File
</button>
<a href="png-to-ico.html" class="btn secondary" style="width:100%;text-decoration:none;display:block;text-align:center;">
<i class="fas fa-upload"></i> Upload New File
</a>
</div>
</div>
</div>
</main>
<script type="module">
(async function() {
    const { getStoredFiles, convertFile, downloadFile } = await import('./js/file-converter.js');
    
    let convertedFiles = [];
    let storedFilesData = [];
    const preview = document.getElementById('preview');
    const downloadBtn = document.getElementById('downloadBtn');
    const convertBtn = document.getElementById('convertBtn');
    const formatRadios = document.querySelectorAll('input[name="outputFormat"]');
    
    // Get selected format
    function getSelectedFormat() {
        const selected = document.querySelector('input[name="outputFormat"]:checked');
        return selected ? selected.value : 'ico';
    }
    
    // Convert files with selected format
    async function convertWithFormat(format) {
        if (!storedFilesData || storedFilesData.length === 0) {
            return [];
        }
        
        const convertedFiles = [];
        
        for (const fileData of storedFilesData) {
            const file = new File([fileData.data], fileData.name, { type: fileData.type });
            const img = await loadImage(file);
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);
            
            let outputFormat = 'image/x-icon';
            let outputExt = '.ico';
            
            if (format === 'jpg' || format === 'jpeg') {
                outputFormat = 'image/jpeg';
                outputExt = '.jpg';
            } else if (format === 'svg') {
                // SVG conversion requires different approach
                // For now, convert to PNG and then we'll need a library for SVG
                outputFormat = 'image/png';
                outputExt = '.png';
                // Note: True SVG conversion would require additional library
            } else if (format === 'bmp') {
                outputFormat = 'image/bmp';
                outputExt = '.bmp';
            } else if (format === 'tiff') {
                outputFormat = 'image/tiff';
                outputExt = '.tiff';
            } else if (format === 'avif') {
                // AVIF support is limited in browsers
                outputFormat = 'image/avif';
                outputExt = '.avif';
            }
            
            const blob = await new Promise((resolve, reject) => {
                if (format === 'ico') {
                    // ICO format is not directly supported by canvas.toBlob
                    // Convert to PNG and let the browser handle it
                    // Note: True ICO conversion with multiple sizes would require a library
                    canvas.toBlob((blob) => {
                        if (blob) {
                            resolve(blob);
                        } else {
                            // Fallback to PNG if ICO fails
                            canvas.toBlob(resolve, 'image/png', 0.95);
                            outputExt = '.png';
                        }
                    }, 'image/x-icon', 0.95);
                } else if (format === 'svg') {
                    // SVG conversion requires different approach
                    // For now, convert to PNG
                    canvas.toBlob(resolve, 'image/png', 0.95);
                } else if (format === 'bmp' || format === 'tiff' || format === 'avif') {
                    // These formats may not be fully supported by canvas.toBlob
                    // Fallback to PNG if not supported
                    canvas.toBlob((blob) => {
                        if (blob) {
                            resolve(blob);
                        } else {
                            console.warn(`${outputFormat} not supported, using PNG`);
                            canvas.toBlob(resolve, 'image/png', 0.95);
                            outputExt = '.png';
                        }
                    }, outputFormat, format === 'jpg' ? 0.92 : 0.95);
                } else {
                    canvas.toBlob(resolve, outputFormat, format === 'jpg' ? 0.92 : 0.95);
                }
            });
            
            const filename = fileData.name.replace(/\.[^.]+$/, outputExt);
            convertedFiles.push({ blob, filename });
        }
        
        return convertedFiles;
    }
    
    // Load image helper
    function loadImage(file) {
        return new Promise((resolve, reject) => {
            const img = new Image();
            const url = URL.createObjectURL(file);
            img.onload = () => {
                URL.revokeObjectURL(url);
                resolve(img);
            };
            img.onerror = reject;
            img.src = url;
        });
    }
    
    // Update preview when format changes
    formatRadios.forEach(radio => {
        radio.addEventListener('change', async function() {
            // Update visual feedback for selected format
            formatRadios.forEach(r => {
                const label = r.closest('label');
                if (label) {
                    if (r.checked) {
                        label.style.border = '2px solid var(--primary)';
                        label.style.background = '#f0f4ff';
                    } else {
                        label.style.border = '2px solid #e5e7eb';
                        label.style.background = '#f8f9ff';
                    }
                }
            });
            
            const format = getSelectedFormat();
            preview.innerHTML = '<div style="text-align:center;padding:40px;"><i class="fas fa-spinner fa-spin" style="font-size:3rem;color:var(--primary)"></i><p style="margin-top:20px;color:var(--gray)">Converting to ' + format.toUpperCase() + '...</p></div>';
            downloadBtn.disabled = true;
            convertBtn.disabled = false;
            
            try {
                convertedFiles = await convertWithFormat(format);
                displayConvertedFiles();
            } catch (error) {
                console.error('Conversion error:', error);
                preview.innerHTML = `<div style="text-align:center;padding:40px;color:#dc3545;"><i class="fas fa-exclamation-triangle" style="font-size:3rem;margin-bottom:15px;"></i><p>${error.message}</p></div>`;
            }
        });
    });
    
    // Display converted files
    function displayConvertedFiles() {
        preview.innerHTML = '';
        if (convertedFiles.length === 0) {
            preview.innerHTML = '<div style="text-align:center;padding:40px;color:var(--gray);">No files to display.</div>';
        } else {
            convertedFiles.forEach((file, idx) => {
                const div = document.createElement('div');
                div.className = 'preview-item';
                div.style.cssText = 'flex-direction:column;padding:30px;border:1px solid #e5e7eb;border-radius:8px;background:#fafafa;';
                div.innerHTML = `
                    <i class="fas fa-file-image" style="font-size:4rem;color:var(--primary);margin-bottom:15px;"></i>
                    <div style="font-size:1.1rem;font-weight:600;color:var(--dark);margin-bottom:5px;">${file.filename}</div>
                    <div style="font-size:0.9rem;color:var(--gray);">Ready to download</div>
                `;
                preview.appendChild(div);
            });
        }
        
        downloadBtn.disabled = false;
        convertBtn.disabled = false;
    }
    
    // Load and convert files on page load
    async function initConversion() {
        try {
            storedFilesData = getStoredFiles('png-to-ico');
            if (!storedFilesData || storedFilesData.length === 0) {
                preview.innerHTML = '<div style="text-align:center;padding:40px;color:var(--gray);">No files found. Please go back and upload files.</div>';
                return;
            }
            
            // Show loading
            preview.innerHTML = '<div style="text-align:center;padding:40px;"><i class="fas fa-spinner fa-spin" style="font-size:3rem;color:var(--primary)"></i><p style="margin-top:20px;color:var(--gray)">Converting files...</p></div>';
            downloadBtn.disabled = true;
            convertBtn.disabled = true;
            
            // Convert files with default format (ICO)
            const format = getSelectedFormat();
            convertedFiles = await convertWithFormat(format);
            
            // Display converted files
            displayConvertedFiles();
            
            // Set initial visual feedback for selected format
            formatRadios.forEach(r => {
                const label = r.closest('label');
                if (label) {
                    if (r.checked) {
                        label.style.border = '2px solid var(--primary)';
                        label.style.background = '#f0f4ff';
                    } else {
                        label.style.border = '2px solid #e5e7eb';
                        label.style.background = '#f8f9ff';
                    }
                }
            });
            
        } catch (error) {
            console.error('Conversion error:', error);
            preview.innerHTML = `<div style="text-align:center;padding:40px;color:#dc3545;"><i class="fas fa-exclamation-triangle" style="font-size:3rem;margin-bottom:15px;"></i><p>${error.message}</p><p style="margin-top:10px;font-size:0.9rem;color:var(--gray);">Please try again or contact support if the problem persists.</p></div>`;
            downloadBtn.disabled = false;
            convertBtn.disabled = false;
        }
    }
    
    // Download handler
    downloadBtn.addEventListener('click', function() {
        if (convertedFiles.length === 0) {
            alert('No files to download');
            return;
        }
        convertedFiles.forEach(file => {
            downloadFile(file.blob, file.filename);
        });
    });
    
    convertBtn.addEventListener('click', function() {
        downloadBtn.click();
    });
    
    // Initialize on page load
    initConversion();
})();
</script>
<script src="js/auth.js" type="module"></script>
<footer>
<div class="container footer-inner">
<div class="footer-company-links">
<span>Company</span>
<a href="index.html#about">About Us</a>
<a href="index.html#contact">Contact</a>
<a href="pricing.html">Pricing</a>
<a href="privacy-policy.html">Privacy Policy</a>
<a href="terms-of-service.html">Terms of Service</a>
<a href="dmca.html">DMCA</a>
<a href="blog.html">Blog</a>
<a href="sitemap.xml">Sitemap</a>
                <a href="feedback.html">Feedback</a></div>
<p class="footer-brand-line">&copy; easyjpgtopdf &mdash; Free PDF &amp; Image Tools for everyone. All rights reserved.</p>
</div>
</footer>
<script src="js/global-components.js"></script>
    <script>
    // Ensure header loads - multiple attempts to guarantee it works
    (function() {
        function tryLoadHeader() {
            if (typeof loadGlobalHeader === 'function') {
                try {
                    loadGlobalHeader();
                    return true;
                } catch (e) {
                    console.error('Error calling loadGlobalHeader:', e);
                }
            }
            return false;
        }
        
        // Try immediately if script already loaded
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
            if (!tryLoadHeader()) {
                // Script not loaded yet, wait for it
                var attempts = 0;
                var maxAttempts = 60; // 3 seconds total
                var checkHeader = setInterval(function() {
                    attempts++;
                    if (tryLoadHeader() || attempts >= maxAttempts) {
                        clearInterval(checkHeader);
                    }
                }, 50);
            }
        } else {
            // Wait for DOM to be ready
            document.addEventListener('DOMContentLoaded', function() {
                if (!tryLoadHeader()) {
                    var attempts = 0;
                    var maxAttempts = 40;
                    var checkHeader = setInterval(function() {
                        attempts++;
                        if (tryLoadHeader() || attempts >= maxAttempts) {
                            clearInterval(checkHeader);
                        }
                    }, 50);
                }
            });
        }
        
        // Final backup attempt on window load
        window.addEventListener('load', function() {
            setTimeout(function() {
                if (!document.querySelector('header') && typeof loadGlobalHeader === 'function') {
                    loadGlobalHeader();
                }
            }, 100);
        });
    })();
    </script>
</body>
</html>