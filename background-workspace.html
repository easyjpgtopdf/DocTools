<!DOCTYPE html>
<!-- VERSION: 2025-01-16-v2 - STRICT FILE-ONLY FormData - NO JSON/base64 -->
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>
<title>Background Removal Workspace - AI Background Remover | Remove Background Online Free</title>
    <meta name="description" content="Remove background from images online with AI. Free preview (512px) and premium HD quality (2000-4000px) background removal. Professional GPU-accelerated AI processing.">
    <meta name="keywords" content="background removal, remove background, ai background remover, background workspace, free background removal, hd background removal, transparent background, png background remover">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://easyjpgtopdf.com/background-workspace.html">
    <meta property="og:title" content="Background Removal Workspace - Edit & Download Transparent Images">
    <meta property="og:description" content="Edit and download transparent PNG images. Remove background from image online with AI.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://easyjpgtopdf.com/background-workspace.html">
<link href="css/footer.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<style>
    :root {
      --primary: #4361ee;
      --secondary: #3a0ca3;
      --accent: #4cc9f0;
      --dark: #212529;
      --muted: #7a7f8c;
      --surface: #ffffff;
      --border: rgba(18, 20, 58, 0.1);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: linear-gradient(180deg, #f3f4ff 0%, #f8f9ff 100%); color: var(--dark); min-height: 100vh; display: flex; flex-direction: column; }
    .topbar { background: var(--surface); box-shadow: 0 12px 30px rgba(14, 32, 86, 0.1); position: sticky; top: 0; z-index: 20; }
    .topbar .inner { max-width: 1200px; margin: 0 auto; padding: 14px 24px; display: flex; justify-content: space-between; align-items: center; gap: 18px; }
    .brand { display: flex; gap: 10px; align-items: center; font-weight: 700; font-size: 20px; color: var(--primary); text-decoration: none; }
    .quick-links { display: flex; gap: 10px; flex-wrap: wrap; }
    .quick-links a { text-decoration: none; padding: 8px 16px; border-radius: 999px; border: 1px solid var(--border); color: #253156; font-weight: 600; background: rgba(67, 97, 238, 0.08); transition: transform 0.2s, box-shadow 0.2s, background 0.2s; }
    .quick-links a:hover { background: linear-gradient(135deg, #4361ee, #3a0ca3); color: #fff; transform: translateY(-1px); box-shadow: 0 12px 24px rgba(67, 97, 238, 0.2); }
    main { flex: 1; width: 100%; max-width: 1200px; margin: 36px auto; padding: 0 24px 48px; display: grid; grid-template-columns: 1fr 40%; gap: 32px; align-items: start; }
    .panel { background: var(--surface); border-radius: 24px; padding: 28px; box-shadow: 0 20px 45px rgba(15, 30, 70, 0.08); }
    .panel h2 { font-size: 1.35rem; margin-bottom: 18px; display: flex; gap: 12px; align-items: center; color: #171f4d; }
    .preview-stage { position: relative; width: 8.5cm; height: 6cm; max-width: 100%; max-height: 100%; margin: 0 auto; border-radius: 18px; background: repeating-conic-gradient(#e5e9ff 0deg 25deg, #f8f9ff 25deg 50deg); overflow: hidden; display: flex; align-items: center; justify-content: center; }
    .preview-original, .preview-result { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: contain; transition: opacity 0.6s ease; border: none; outline: none; box-shadow: none; }
    .preview-result { opacity: 0; }
    .preview-stage.revealed .preview-result { opacity: 1; }
    /* CRITICAL FIX: When showing initial upload preview, make previewResult visible */
    .preview-result:not([hidden]) { opacity: 1 !important; display: block !important; visibility: visible !important; }
    /* Override for initial preview - show previewResult when it has a src */
    .preview-result[src]:not([src=""]) { opacity: 1 !important; display: block !important; visibility: visible !important; }
    /* Checkerboard background for transparent PNG preview */
    .preview-stage { 
      background-image: 
        linear-gradient(45deg, #f0f0f0 25%, transparent 25%), 
        linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), 
        linear-gradient(45deg, transparent 75%, #f0f0f0 75%), 
        linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
      background-size: 20px 20px;
      background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
      background-color: #ffffff; /* White fallback */
    }
    .preview-stage.revealed .preview-original { opacity: 0; }
    /* CRITICAL: Ensure preview-original is visible when not hidden */
    .preview-original:not([hidden]) { display: block !important; opacity: 1 !important; visibility: visible !important; }
    /* CRITICAL: Ensure preview-result is also visible when not hidden */
    .preview-result:not([hidden]) { display: block !important; opacity: 1 !important; visibility: visible !important; }
    .preview-overlay { position: absolute; inset: 0; background: rgba(17, 24, 39, 0.55); display: none; flex-direction: column; align-items: center; justify-content: center; gap: 12px; color: #fff; font-weight: 600; letter-spacing: 0.03em; transition: opacity 0.4s ease; z-index: 10; }
    /* Preview overlay - hidden by default, only show during processing */
    .preview-overlay { display: none !important; opacity: 0; pointer-events: none; }
    .preview-overlay.processing { display: flex !important; opacity: 1; pointer-events: auto; }
    .preview-stage.revealed .preview-overlay { display: none !important; opacity: 0; pointer-events: none; }
    .preview-stage.empty .preview-overlay { display: none !important; opacity: 0; pointer-events: none; }
    
    /* Preview stage - empty state by default */
    .preview-stage.empty { display: flex; }
    .preview-stage.empty .preview-original { display: none !important; }
    .preview-stage.empty .preview-result { display: none !important; }
    .preview-stage.empty .preview-placeholder { display: flex; }
    
    /* Preview stage - with image */
    .preview-stage:not(.empty) .preview-placeholder { display: none !important; }
    .preview-placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; text-align: center; color: var(--muted); font-weight: 600; letter-spacing: 0.03em; }
    .preview-placeholder.hidden { display: none; }
    .preview-spinner { width: 34px; height: 34px; border: 3px solid rgba(255, 255, 255, 0.4); border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite; }
    .actions { margin-top: 24px; display: flex; flex-wrap: wrap; gap: 14px; }
    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 10px 22px; border-radius: 999px; border: none; cursor: pointer; font-weight: 600; font-size: 0.95rem; transition: transform 0.2s, box-shadow 0.2s; }
    .btn-primary { background: linear-gradient(135deg, #4361ee, #3a0ca3); color: #fff; box-shadow: 0 16px 30px rgba(67, 97, 238, 0.25); }
    .btn-outline { background: #fff; border: 1px solid var(--border); color: #233050; }
    .btn[disabled] { opacity: 0.5; cursor: not-allowed; box-shadow: none; transform: none; }
    .status-card { display: flex; flex-direction: column; gap: 18px; color: var(--muted); font-size: 0.95rem; line-height: 1.6; }
    .status-card strong { color: #1e254d; font-size: 1.05rem; }
    footer { text-align: center; padding: 24px 16px 40px; font-size: 0.85rem; color: var(--muted); }
    /* Download Modal Styles */
    .download-modal { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.6); z-index: 1000; align-items: center; justify-content: center; }
    .download-modal.active { display: flex; }
    .download-modal-content { background: #fff; border-radius: 20px; padding: 32px; max-width: 500px; width: 90%; box-shadow: 0 24px 60px rgba(0, 0, 0, 0.3); }
    .download-modal-header { margin-bottom: 24px; }
    .download-modal-header h3 { font-size: 1.4rem; color: #1a214d; margin-bottom: 8px; }
    .download-modal-header p { color: var(--muted); font-size: 0.95rem; }
    .download-options { display: flex; flex-direction: column; gap: 16px; margin-bottom: 24px; }
    .download-option { border: 2px solid var(--border); border-radius: 16px; padding: 20px; cursor: pointer; transition: all 0.3s; background: #fff; position: relative; }
    .download-option:hover { border-color: var(--primary); transform: translateY(-2px); box-shadow: 0 8px 20px rgba(67, 97, 238, 0.15); }
    .download-option.disabled { opacity: 0.6; cursor: not-allowed; background: #f5f5f5; }
    .download-option.selected { border-color: var(--primary); background: rgba(67, 97, 238, 0.05); }
    .download-option-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .download-option-title { font-weight: 700; font-size: 1.1rem; color: #1a214d; }
    .download-option-badge { padding: 4px 12px; border-radius: 999px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
    .download-option-badge.free { background: rgba(34, 197, 94, 0.15); color: #059669; }
    .download-option-badge.premium { background: rgba(67, 97, 238, 0.15); color: var(--primary); }
    .download-option-details { color: var(--muted); font-size: 0.9rem; line-height: 1.6; }
    .download-option-details strong { color: #1a214d; }
    .size-selection { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border); display: none; }
    .size-selection.active { display: block; }
    .size-selection label { display: block; font-size: 0.85rem; color: var(--muted); margin-bottom: 8px; font-weight: 600; }
    .size-select { width: 100%; padding: 10px 14px; border: 1px solid var(--border); border-radius: 12px; font-size: 0.95rem; color: #1a214d; background: #fff; cursor: pointer; transition: border-color 0.2s; }
    .size-select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1); }
    .size-info { margin-top: 8px; font-size: 0.8rem; color: var(--muted); }
    .download-modal-actions { display: flex; gap: 12px; justify-content: flex-end; }
    @media (max-width: 640px) {
      .download-modal-content { padding: 24px; max-width: 95%; }
      .size-select { font-size: 0.9rem; padding: 8px 12px; }
    }
    .download-modal-actions button { padding: 10px 20px; border-radius: 999px; border: none; cursor: pointer; font-weight: 600; font-size: 0.95rem; transition: transform 0.2s; }
    .download-modal-actions button:hover { transform: translateY(-1px); }
    .download-modal-actions .btn-cancel { background: #f5f5f5; color: #666; }
    .download-modal-actions .btn-download { background: linear-gradient(135deg, #4361ee, #3a0ca3); color: #fff; box-shadow: 0 16px 30px rgba(67, 97, 238, 0.25); }
    @keyframes spin { to { transform: rotate(360deg); } }
    @media (max-width: 960px) {
      main { grid-template-columns: 1fr; }
      .actions { justify-content: center; }
    }
  </style>
<link href="css/header.css" rel="stylesheet"/>
<link href="css/theme-modern.css" rel="stylesheet"/>
<link rel="stylesheet" href="css/voice-assistant.css">
<script src="js/voice-assistant.js" defer></script>
            <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Background Removal Workspace - AI Background Remover | Remove Background Online Free",
      "description": "Remove background from images online with AI. Free preview (512px) and premium HD quality (up to 25 Megapixels) background removal. Professional GPU-accelerated AI processing.",
      "url": "https://easyjpgtopdf.com/background-workspace.html",
      "inLanguage": "en-US",
      "isPartOf": {
        "@type": "WebSite",
        "name": "easyjpgtopdf",
        "url": "https://easyjpgtopdf.com"
      },
      "publisher": {
        "@type": "Organization",
        "name": "easyjpgtopdf",
        "url": "https://easyjpgtopdf.com"
      }
    }
    </script>
</head>
<body>
    <!-- Global Header Placeholder - Loaded by global-components.js -->
    <div id="global-header-placeholder"></div>
    
    <nav aria-label="Breadcrumb" style="padding: 15px 0; background: #f8f9ff; border-bottom: 1px solid #e2e6ff;">
        <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 24px;">
            <ol style="list-style: none; display: flex; flex-wrap: wrap; gap: 10px; margin: 0; padding: 0; align-items: center;">
                <li><a href="index.html" style="color: #4361ee; text-decoration: none; font-weight: 500; transition: color 0.3s;" onmouseover="this.style.color='#3a0ca3'" onmouseout="this.style.color='#4361ee'">Home</a></li>
                <li><span style="margin: 0 8px; color: #9ca3af;">|</span></li>
                <li><a href="login.html" style="color: #56607a; font-weight: 500; text-decoration: none; transition: color 0.3s;" onmouseover="this.style.color='#4361ee'" onmouseout="this.style.color='#56607a'">Sign In</a></li>
                <li><span style="margin: 0 8px; color: #9ca3af;">|</span></li>
                <li><a href="signup.html" style="color: #56607a; font-weight: 500; text-decoration: none; transition: color 0.3s;" onmouseover="this.style.color='#4361ee'" onmouseout="this.style.color='#56607a'">Signup</a></li>
            </ol>
        </div>
    </nav>
<main>
<section class="panel">
<h1>AI Background Removal Workspace - Remove Background Online Free</h1>
<div class="preview-stage empty" id="previewStage">
<img alt="Original" class="preview-original" hidden="" id="previewOriginal"/>
<img alt="Result" class="preview-result" hidden="" id="previewResult"/>
<div class="preview-overlay" id="previewOverlay" style="display: none;">
<div class="preview-spinner"></div>
<span>AI Processing...</span>
</div>
<div class="preview-placeholder" id="previewPlaceholder">
<i class="fas fa-image" style="font-size:3rem;opacity:0.3;"></i>
<span>No image loaded</span>
</div>
</div>
<!-- Hidden file input for multiple uploads -->
<input type="file" id="multipleImageUpload" accept="image/jpeg,image/jpg,image/png,image/webp,image/heic,image/heif,image/*" multiple style="display: none;">
<!-- Multiple Images Grid Preview -->
<div id="multipleImagesGrid" style="display: none; margin-top: 24px; padding: 20px; background: #f8f9ff; border-radius: 12px; border: 1px solid #e2e6ff;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
        <h3 style="font-size: 1.1rem; color: #1f2559; margin: 0;">
            <i class="fas fa-images" style="margin-right: 8px; color: #4361ee;"></i>
            Uploaded Images (<span id="imageCount">0</span>)
        </h3>
        <button id="clearAllImages" class="btn btn-outline" style="padding: 6px 12px; font-size: 0.85rem;">
            <i class="fas fa-trash"></i> Clear All
        </button>
    </div>
    <div id="imagesGridContainer" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(1cm, 1cm)); gap: 8px; max-height: 300px; overflow-y: auto; padding: 8px; background: white; border-radius: 8px;">
        <!-- Images will be added here -->
    </div>
    <div style="margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap;">
        <button id="processAllBtn" class="btn btn-primary" style="flex: 1; min-width: 150px;">
            <i class="fas fa-magic"></i> Process All Images
        </button>
        <button id="downloadAllBtn" class="btn btn-primary" disabled style="flex: 1; min-width: 150px;">
            <i class="fas fa-download"></i> Download All (ZIP)
        </button>
    </div>
</div>
<div class="actions">
<button class="btn btn-outline" disabled="" id="backgroundChange">
<i class="fas fa-palette"></i> Change Background
        </button>
<button class="btn btn-primary" disabled="" id="downloadPng">
<i class="fas fa-download"></i> Download
        </button>
<button class="btn btn-outline" id="backToRemoverBtn" style="margin-left: 8px;" title="Back to Background Remover">
<i class="fas fa-arrow-left"></i>
        </button>
<button class="btn btn-primary" id="newUploadBtn" style="margin-left: 8px;">
<i class="fas fa-plus"></i>
        </button>
</div>
</section>
<section class="panel" style="display: none;">
<h2 style="display: none;">Processing Options</h2>
<div class="status-card" id="statusMessage"></div>
<!-- Process Button -->
<div style="display: none; margin: 20px 0; padding: 20px; background: #f8f9ff; border-radius: 12px; border: 1px solid #e2e6ff;">
  <button id="processBtn" class="btn btn-primary" style="width: 100%;">
    <i class="fas fa-magic"></i> Process Image
  </button>
  <p style="margin-top: 12px; font-size: 0.85rem; color: #56607a; text-align: center;">Process your image with AI background removal</p>
</div>
</section>
<section class="panel">
<h2>About This Tool</h2>
<!-- Animated Demo -->
<div style="margin: 16px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(67,97,238,0.15);">
<img alt="AI Processing Demo" src="images/bg-removal-jungle-demo.svg" style="width: 100%; height: auto; display: block;" onerror="this.style.display='none'; console.warn('Demo image not found');"/>
</div>
<div class="status-card">
<strong>? Professional AI Processing</strong>
<p>� Fast and accurate background removal</p>
<p>� Automatic processing for optimal results</p>
<p>� Professional quality output</p>
<p>� Unlimited uploads and downloads</p>
<p>� High-quality transparent PNG output</p>
</div>
</section>
<section class="panel">
<h2>Batch Processing Features (Premium)</h2>
<div class="status-card">
<strong>Multiple Image Upload & Processing</strong>
<p>Upload multiple images at once using the + button</p>
<p>View all uploaded images in a grid preview (1x1cm frames)</p>
<p>Process all images in batch with one click</p>
<p>Download all processed images as a ZIP file</p>
<p>Images automatically sync to Background Style page</p>
<p><strong>Free Users:</strong> Limited to one image at a time</p>
<p><strong>Premium Users:</strong> Unlimited batch processing</p>
</div>
</section>
</main>
<script type="module">
    console.log('PREMIUM FLOW STARTED');
    
    // Initialize Premium HD App with auth providers
    document.addEventListener('DOMContentLoaded', async () => {
      // Get auth token and user ID (placeholder - implement based on your auth system)
      async function getAuthToken() {
        // TODO: Implement actual auth token retrieval (Firebase, etc.)
        return null; // Return actual token
      }
      
      async function getUserId() {
        // TODO: Implement actual user ID retrieval (Firebase, etc.)
        return null; // Return actual user ID
      }
      
      if (window.PremiumHDApp) {
        window.premiumHDApp = new window.PremiumHDApp({
          getAuthToken,
          getUserId,
        });
        
        // Wire process button
        const processBtn = document.getElementById('processBtn');
        if (processBtn) {
          processBtn.addEventListener('click', async () => {
            if (window.premiumHDApp) {
              await window.premiumHDApp.process();
            }
          });
        }
      }
    });
  </script>
  
  <script type="module" src="js/background-workspace-enterprise.js"></script>

    <!-- Download Modal -->
    <div class="download-modal" id="downloadModal">
      <div class="download-modal-content">
        <div class="download-modal-header">
          <h3><i class="fas fa-download"></i> Download Image</h3>
          <p>Choose your download quality</p>
        </div>
        <div class="download-options">
          <div class="download-option" id="freeDownloadOption" data-quality="free">
            <div class="download-option-header">
              <div class="download-option-title">Free Preview</div>
              <span class="download-option-badge free">Free</span>
            </div>
            <div class="download-option-details">
              <strong>512px</strong> • No credits required • Instant download
            </div>
          </div>
          <div class="download-option" id="premiumDownloadOption" data-quality="premium">
            <div class="download-option-header">
              <div class="download-option-title">Premium HD – up to 25 Megapixels</div>
              <span class="download-option-badge premium">Premium (2 Credit)</span>
            </div>
            <div class="download-option-details">
              <strong>Up to 25 Megapixels</strong> • 2 credits per image • High-resolution quality
            </div>
            <div class="size-selection" id="premiumSizeSelection">
              <label for="premiumSizeSelect"><i class="fas fa-expand-arrows-alt"></i> Select Resolution:</label>
              <select id="premiumSizeSelect" class="size-select">
                <option value="original">Original Size (Preserved if ≤ 25 MP) - Credits vary</option>
                <option value="1920x1080">1920×1080 (2.07 MP) - Full HD - 2 Credits</option>
                <option value="2048x2048">2048×2048 (4.19 MP) - Square HD - 4 Credits</option>
                <option value="3000x2000">3000×2000 (6 MP) - 3:2 Ratio - 4 Credits</option>
                <option value="3000x3000">3000×3000 (9 MP) - Square - 6 Credits</option>
                <option value="4000x3000">4000×3000 (12 MP) - 4:3 Ratio - 9 Credits</option>
                <option value="4000x4000">4000×4000 (16 MP) - Square - 10 Credits</option>
                <option value="5000x3000">5000×3000 (15 MP) - 5:3 Ratio - 12 Credits</option>
                <option value="5000x5000">5000×5000 (25 MP) - Maximum - 15 Credits</option>
              </select>
              <div class="size-info" id="premiumSizeInfo">Credits will be deducted based on selected resolution</div>
            </div>
            <div id="premiumCreditInfo" style="margin-top: 8px; padding: 8px; background: rgba(67, 97, 238, 0.08); border-radius: 8px; font-size: 0.85rem; color: #56607a; display: none;">
              <span id="premiumCreditText">Checking credits...</span>
            </div>
          </div>
        </div>
        <div class="download-modal-actions">
          <button class="btn-cancel" id="cancelDownload">Cancel</button>
          <button class="btn-download" id="confirmDownload" disabled>
            <i class="fas fa-download"></i> Download
          </button>
        </div>
      </div>
    </div>

    <!-- Global Footer Placeholder - Loaded by global-components.js -->
    <div id="global-footer-placeholder"></div>
    
    <!-- Load Global Components Scripts -->
    <script src="js/global-components.js"></script>
    <script src="js/config.js" type="module"></script>
    <script src="js/firebase-init.js" type="module"></script>
    <script src="js/auth.js" type="module"></script>
    <script>
      // Initialize global components (header, account section, footer)
      (function() {
        function initComponents() {
          // Load account section first (above header)
          if (typeof window.loadAccountSection === 'function') {
            try {
              window.loadAccountSection();
            } catch (e) {
              console.error('Error loading account section:', e);
            }
          }
          
          // Load header
          if (typeof window.loadGlobalHeader === 'function') {
            try {
              window.loadGlobalHeader();
            } catch (e) {
              console.error('Error loading header:', e);
            }
          }
          
          // Load footer
          if (typeof window.loadGlobalFooter === 'function') {
            try {
              window.loadGlobalFooter();
            } catch (e) {
              console.error('Error loading footer:', e);
            }
          }
        }
        
        // Try multiple times to ensure components load
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
          setTimeout(initComponents, 50);
          setTimeout(initComponents, 200);
        } else {
          document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initComponents, 50);
            setTimeout(initComponents, 200);
          });
        }
        
        window.addEventListener('load', function() {
          setTimeout(initComponents, 100);
        });
      })();
    </script>
</body>
</html>

