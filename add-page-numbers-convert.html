<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Add Page Numbers - Online Free Tool | easyjpgtopdf</title>
    <meta name="description" content="Use our free Add Page Numbers tool online. Fast, secure, and easy to use.">
    <meta name="keywords" content="add-page-numbers, add page numbers, free add-page-numbers, online add-page-numbers">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://easyjpgtopdf.com/add-page-numbers-convert.html">
<link href="css/footer.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"></link>
<style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif}
    :root{--primary:#4361ee;--secondary:#3a0ca3;--accent:#4cc9f0;--light:#f8f9fa;--dark:#212529;--gray:#6c757d}
    body{background:#f5f7ff;color:var(--dark);min-height:100vh;display:flex;flex-direction:column;line-height:1.6}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    /* Header from index.html */

    .logo i{color:var(--secondary)}

    .nav-links a:hover,.nav-links a.active{color:var(--primary)}

    .dropdown:hover 
    .dropdown-content a{display:block;padding:10px 20px;text-decoration:none;color:var(--dark)}
    .dropdown-content a:hover{background:var(--light)}
    .auth-buttons{display:flex;gap:10px}
    .auth-btn{padding:6px 15px;border-radius:50px;text-decoration:none;font-weight:500;transition:.3s;font-size:.9rem}
    .auth-btn.login{background:transparent;color:var(--primary);border:1px solid var(--primary)}
    .auth-btn.signup{background:var(--primary);color:#fff;border:1px solid var(--primary)}

    .tool-page{background:#fff;border-radius:12px;padding:24px;box-shadow:0 5px 15px rgba(0,0,0,.05);margin:24px 0}
    .title{font-size:1.4rem;color:var(--primary);margin-bottom:10px}
    .meta{color:var(--gray);font-size:.95rem;margin-bottom:14px}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 18px;border-radius:8px;border:1px solid var(--primary);background:#fff;color:var(--primary);text-decoration:none;font-weight:600;cursor:pointer;transition:.2s}
    .btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.1)}
    .btn-primary{background:var(--primary);color:#fff;border:none}
    .preview{border:1px solid #ddd;border-radius:10px;overflow:hidden;background:#fff;height:70vh}
    .preview iframe{width:100%;height:100%;border:0}
    /* Share bar styles are now in share-bar.css */

    /* Comment section styled like index */
    .comments{padding:40px 0;background:#fff;border-radius:20px;margin:20px 0}
    .comment-form{max-width:600px;margin:0 auto;background:var(--light);padding:30px;border-radius:12px}
    .form-group{margin-bottom:20px}
    .form-group label{display:block;margin-bottom:8px;font-weight:500}
    .form-control{width:100%;padding:12px 15px;border:1px solid #ddd;border-radius:8px}

    /* Footer from index.html */
    footer{background:#212529;color:#fff;margin-top:auto;padding:60px 0 30px}
    .footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:40px;margin-bottom:40px}
    .footer-links{list-style:none}
    .footer-links a{color:#aaa;text-decoration:none}
    .footer-links a:hover{color:#fff}
    .copyright{text-align:center;color:#aaa;border-top:1px solid #444;padding-top:16px;font-size:.9rem}

    @media (max-width:768px){.split-layout{flex-direction:column}.left-panel,.right-panel{width:100%!important}.btn{width:100%;justify-content:center}}
    
    /* Split Layout - 50-50 */
    .split-layout{display:flex;gap:20px;margin:20px 0;min-height:calc(100vh + 384px - 300px)}
    .left-panel{flex:1;background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 10px rgba(0,0,0,.08);overflow-y:auto;max-height:calc(100vh + 384px - 280px)}
    .right-panel{flex:1;background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 10px rgba(0,0,0,.08);overflow-y:auto;max-height:calc(100vh + 384px - 280px)}
    
    /* Page Numbering Options */
    .numbering-options{background:var(--light);border-radius:12px;padding:15px;margin-bottom:15px}
    .option-group{margin-bottom:12px}
    .option-group h3{font-size:1rem;color:var(--primary);margin-bottom:8px}
    .option-group label{display:block;margin-bottom:6px;font-weight:500;color:var(--dark);font-size:.9rem}
    .option-select,.form-control{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:8px;background:#fff;font-size:.9rem}
    .radio-group{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
    .radio-option{display:inline-flex;align-items:center;gap:4px;padding:5px 10px;background:#fff;border:1px solid #ddd;border-radius:6px;cursor:pointer;transition:.2s;font-size:.85rem}
    .radio-option:hover{border-color:var(--primary);background:rgba(67,97,238,0.05)}
    .radio-option input[type="radio"]{margin:0}
    .color-picker{display:flex;align-items:center;gap:10px;margin-top:8px}
    .color-preview{width:40px;height:40px;border:2px solid #ddd;border-radius:6px;cursor:pointer}
    
    /* Preview Panel */
    .preview-panel-
    .preview-panel-header h3{color:var(--primary);font-size:1.2rem}
    .preview-container{display:flex;flex-direction:column;gap:16px;padding:10px}
    .pdf-page-preview{width:8.5cm;height:11cm;border:2px solid #ddd;border-radius:8px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);position:relative;margin:0 auto}
    .pdf-page-preview canvas{width:100%;height:100%;border-radius:6px}
    .page-number-overlay{position:absolute;font-size:14px;padding:5px 10px;background:rgba(255,255,255,0.9);border:1px solid #ddd;border-radius:4px}
    .page-number-overlay.top-left{top:10px;left:10px}
    .page-number-overlay.top-center{top:10px;left:50%;transform:translateX(-50%)}
    .page-number-overlay.top-right{top:10px;right:10px}
    .page-number-overlay.bottom-left{bottom:10px;left:10px}
    .page-number-overlay.bottom-center{bottom:10px;left:50%;transform:translateX(-50%)}
    .page-number-overlay.bottom-right{bottom:10px;right:10px}
    .page-label{text-align:center;margin-top:8px;color:var(--gray);font-size:.85rem}
    
    /* Progress */
    .progress-container{margin:20px 0;display:none}
    .progress-bar{width:100%;height:8px;background:#e9ecef;border-radius:4px;overflow:hidden}
    .progress-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--accent));width:0%;transition:width .3s}
    .progress-text{text-align:center;margin-top:10px;color:var(--gray);font-size:.9rem}
  </style>
<link href="css/header.css" rel="stylesheet"/>
<link href="css/theme-modern.css" rel="stylesheet"/>
<link rel="stylesheet" href="css/voice-assistant.css">
<script src="js/voice-assistant.js" defer></script>
<!-- PDF.js for rendering PDF pages to canvas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
      // Configure pdf.js worker
      if(typeof pdfjsLib !== 'undefined'){
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      }
    </script>
            <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Add Page Numbers - Online Free Tool | easyjpgtopdf",
      "description": "Use our free Add Page Numbers tool online. Fast, secure, and easy to use.",
      "url": "https://easyjpgtopdf.com/add-page-numbers-convert.html",
      "inLanguage": "en-US",
      "isPartOf": {
        "@type": "WebSite",
        "name": "easyjpgtopdf",
        "url": "https://easyjpgtopdf.com"
      },
      "publisher": {
        "@type": "Organization",
        "name": "easyjpgtopdf",
        "url": "https://easyjpgtopdf.com"
      }
    }
    </script>
</head>
<body>
    <div id="global-header-placeholder"></div>

    <nav aria-label="Breadcrumb" style="padding: 15px 0; background: #f8f9ff; border-bottom: 1px solid #e2e6ff;">
        <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 24px;">
            <ol style="list-style: none; display: flex; flex-wrap: wrap; gap: 10px; margin: 0; padding: 0; align-items: center;">
                <li><a href="feedback.html" style="color: #4361ee; text-decoration: none; font-weight: 500; transition: color 0.3s;" onmouseover="this.style.color='#3a0ca3'" onmouseout="this.style.color='#4361ee'">Home</a></li>
                <li><span style="margin: 0 8px; color: #9ca3af;">|</span></li>
                <li><a href="login.html" style="color: #56607a; font-weight: 500; text-decoration: none; transition: color 0.3s;" onmouseover="this.style.color='#4361ee'" onmouseout="this.style.color='#56607a'">Sign In</a></li>
                <li><span style="margin: 0 8px; color: #9ca3af;">|</span></li>
                <li><a href="signup.html" style="color: #56607a; font-weight: 500; text-decoration: none; transition: color 0.3s;" onmouseover="this.style.color='#4361ee'" onmouseout="this.style.color='#56607a'">Signup</a></li>
            </ol>
        </div>
    </nav>

<section class="hero" style="background: linear-gradient(135deg, #4361ee, #3a0ca3); color: #fff; padding: 40px 0; text-align: center; margin-bottom: 24px;">
<div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 24px;">
<h1 style="font-size: 2.5rem; margin-bottom: 12px; font-weight: 700;">Add Page Numbers to PDF - Download Your Numbered PDF</h1>
<p style="font-size: 1.1rem; opacity: 0.95;">Add page numbers to your PDF documents online for free. Customize position, style, and format. Fast and secure.</p>
</div>
</section>

<div class="container">
<div class="tool-page">
<div class="title">Add Page Numbers to Your PDF</div>
<div class="meta" id="meta">Customize and preview your page numbering options below</div>
<!-- Split Layout: Left Panel = Options, Right Panel = Preview -->
<div class="split-layout">
<!-- LEFT PANEL: Numbering Options -->
<div class="left-panel">
<div class="numbering-options">
<h3 style="margin-bottom:12px;color:var(--primary);font-size:1.1rem">Page Numbering Options</h3>
<div class="option-group">
<label>Position</label>
<div class="radio-group">
<label class="radio-option"><input name="position" type="radio" value="top-left"/> Top Left</label>
<label class="radio-option"><input name="position" type="radio" value="top-center"/> Top Center</label>
<label class="radio-option"><input name="position" type="radio" value="top-right"/> Top Right</label>
<label class="radio-option"><input name="position" type="radio" value="bottom-left"/> Bottom Left</label>
<label class="radio-option"><input name="position" type="radio" value="bottom-center"/> Bottom Center</label>
<label class="radio-option"><input checked="" name="position" type="radio" value="bottom-right"/> Bottom Right</label>
</div>
</div>
<div class="option-group">
<label>Number Format</label>
<div class="radio-group">
<label class="radio-option"><input checked="" name="format" type="radio" value="1"/> 1, 2, 3...</label>
<label class="radio-option"><input name="format" type="radio" value="i"/> i, ii, iii...</label>
<label class="radio-option"><input name="format" type="radio" value="I"/> I, II, III...</label>
<label class="radio-option"><input name="format" type="radio" value="a"/> a, b, c...</label>
<label class="radio-option"><input name="format" type="radio" value="A"/> A, B, C...</label>
</div>
</div>
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin-top:8px">
<div class="option-group">
<label for="startNumber">Starting Number</label>
<input class="form-control" id="startNumber" min="1" type="number" value="1"/>
</div>
<div class="option-group">
<label for="fontSize">Font Size</label>
<select class="option-select" id="fontSize">
<option value="8">8pt</option>
<option value="10">10pt</option>
<option selected="" value="12">12pt</option>
<option value="14">14pt</option>
<option value="16">16pt</option>
<option value="18">18pt</option>
</select>
</div>
<div class="option-group">
<label for="fontColor">Font Color</label>
<div class="color-picker">
<div class="color-preview" id="colorPreview" style="background-color:#000000"></div>
<input id="fontColor" style="width:60px;height:40px;border:none;cursor:pointer" type="color" value="#000000"/>
</div>
</div>
</div>
<div class="option-group">
<label for="pageText">Page Text Template (use {n} for number, {total} for total pages)</label>
<input class="form-control" id="pageText" placeholder="e.g., Page {n} of {total}" type="text"/>
</div>
</div>
<!-- Progress Section -->
<div class="progress-container" id="progressContainer">
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
<div class="progress-text" id="progressText">Processing...</div>
</div>
<!-- Actions -->
<div class="actions">
<a class="btn" href="add-page-numbers.html"><i class="fas fa-arrow-left"></i> Back</a>
<button class="btn btn-primary" id="applyBtn"><i class="fas fa-plus-circle"></i> Apply Page Numbers</button>
<button class="btn btn-primary" id="downloadBtn" style="display:none"><i class="fas fa-download"></i> Download PDF</button>
</div>
<!-- Share Bar (hidden initially) -->
<div class="share-bar" id="shareBar" style="display:none">
<span>Share:</span>
<button class="share-btn native" id="nativeShare" title="Share">
<i class="fas fa-share-alt"></i>
</button>
<a class="share-btn facebook" id="shareFacebook" rel="noopener" target="_blank" title="Share on Facebook">
<i class="fab fa-facebook-f"></i>
</a>
<a class="share-btn twitter" id="shareTwitter" rel="noopener" target="_blank" title="Share on Twitter">
<i class="fab fa-twitter"></i>
</a>
<a class="share-btn whatsapp" id="shareWhatsApp" rel="noopener" target="_blank" title="Share on WhatsApp">
<i class="fab fa-whatsapp"></i>
</a>
<a class="share-btn email" id="shareEmail" rel="noopener" target="_blank" title="Share via Email">
<i class="fas fa-envelope"></i>
</a>
</div>
</div>
<!-- RIGHT PANEL: PDF Preview with Multiple Pages -->
<div class="right-panel">
<div style="padding:20px;background:var(--bg-light);border-bottom:1px solid var(--border-color);margin-bottom:10px">
<h3 style="margin:0;color:var(--primary)">PDF Preview</h3>
<p style="margin:5px 0 0 0;color:var(--gray);font-size:14px">All pages will be displayed below</p>
</div>
<div class="preview-container" id="previewContainer">
<!-- PDF pages will be rendered here as canvas elements -->
<p style="text-align:center;color:var(--gray);padding:40px 20px">
<i class="fas fa-file-pdf" style="font-size:48px;margin-bottom:16px;display:block;opacity:0.3"></i>
              PDF preview will appear here after you apply page numbers
            </p>
</div>
</div>
</div>
</div>
</div>
<!-- Add share bar styles and scripts -->
<link href="css/share-bar.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
<script src="js/share-utils.js"></script>
<script>
    const { PDFDocument, rgb, StandardFonts } = PDFLib;
    let originalPdfData=null, processedPdfBlob=null, fileName='document.pdf';
    
    async function init(){
      try{
        const pdfFile = sessionStorage.getItem('pdfFile');
        fileName = sessionStorage.getItem('pdfFileName') || 'document.pdf';
        if(!pdfFile){ 
          document.getElementById('meta').textContent='No PDF found. Please upload again.';
          document.getElementById('applyBtn').disabled=true;
          return; 
        }
        // Convert base64 to array buffer
        const base64Response = await fetch(pdfFile);
        originalPdfData = await base64Response.arrayBuffer();
        
        // Load and preview original PDF
        const pdfDoc = await PDFDocument.load(originalPdfData);
        const pageCount = pdfDoc.getPageCount();
        document.getElementById('meta').textContent = `${fileName} Â• ${pageCount} page(s)`;
        
        // Show message in preview panel
        const previewContainer = document.getElementById('previewContainer');
        previewContainer.innerHTML = `
          <p style="text-align:center;color:var(--gray);padding:40px 20px">
            <i class="fas fa-file-pdf" style="font-size:48px;margin-bottom:16px;display:block;opacity:0.5"></i>
            <strong>${fileName}</strong><br>
            ${pageCount} page(s) loaded<br><br>
            <small>Click "Apply Page Numbers" to see preview with page numbers</small>
          </p>
        `;
      }catch(e){
        console.error(e);
        alert('Error loading PDF: '+e.message);
      }
    }
    
    // Update color preview when color changes
    function updatePreview(){
      const fontColor = document.getElementById('fontColor').value;
      document.getElementById('colorPreview').style.backgroundColor = fontColor;
    }
    
    // Apply page numbers using pdf-lib
    async function applyPageNumbers(){
      if(!originalPdfData) return alert('No PDF loaded');
      
      const progressContainer = document.getElementById('progressContainer');
      const progressFill = document.getElementById('progressFill');
      const progressText = document.getElementById('progressText');
      const applyBtn = document.getElementById('applyBtn');
      const downloadBtn = document.getElementById('downloadBtn');
      const shareBar = document.getElementById('shareBar');
      
      progressContainer.style.display = 'block';
      applyBtn.disabled = true;
      
      try{
        progressText.textContent = 'Loading PDF...';
        progressFill.style.width = '20%';
        
        const pdfDoc = await PDFDocument.load(originalPdfData);
        const pages = pdfDoc.getPages();
        const totalPages = pages.length;
        
        const position = document.querySelector('input[name="position"]:checked').value;
        const format = document.querySelector('input[name="format"]:checked').value;
        const startNum = parseInt(document.getElementById('startNumber').value) || 1;
        const fontSize = parseInt(document.getElementById('fontSize').value);
        const fontColorHex = document.getElementById('fontColor').value;
        const pageText = document.getElementById('pageText').value || '{n}';
        
        const r = parseInt(fontColorHex.substr(1,2),16)/255;
        const g = parseInt(fontColorHex.substr(3,2),16)/255;
        const b = parseInt(fontColorHex.substr(5,2),16)/255;
        
        const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
        
        progressText.textContent = 'Adding page numbers...';
        progressFill.style.width = '40%';
        
        for(let i=0; i<totalPages; i++){
          const page = pages[i];
          const {width,height} = page.getSize();
          
          let num = startNum+i;
          if(format==='i') num = toRoman(num).toLowerCase();
          else if(format==='I') num = toRoman(num);
          else if(format==='a') num = toAlpha(num-1).toLowerCase();
          else if(format==='A') num = toAlpha(num-1);
          
          let text = pageText.replace('{n}',num).replace('{total}',totalPages);
          if(!text.trim()) text = num.toString();
          
          const textWidth = font.widthOfTextAtSize(text,fontSize);
          const margin = 30;
          let x,y;
          
          if(position==='top-left'){ x=margin; y=height-margin; }
          else if(position==='top-center'){ x=(width-textWidth)/2; y=height-margin; }
          else if(position==='top-right'){ x=width-textWidth-margin; y=height-margin; }
          else if(position==='bottom-left'){ x=margin; y=margin; }
          else if(position==='bottom-center'){ x=(width-textWidth)/2; y=margin; }
          else{ x=width-textWidth-margin; y=margin; }
          
          page.drawText(text,{x,y,size:fontSize,font,color:rgb(r,g,b)});
          
          const progress = 40 + ((i+1)/totalPages*50);
          progressFill.style.width = progress+'%';
        }
        
        progressText.textContent = 'Saving PDF...';
        progressFill.style.width = '95%';
        
        const pdfBytes = await pdfDoc.save();
        processedPdfBlob = new Blob([pdfBytes],{type:'application/pdf'});
        
        progressFill.style.width = '100%';
        progressText.textContent = 'Complete!';
        
        // Render multi-page preview
        await renderPdfPreview(processedPdfBlob);
        
        // Show download and share buttons
        downloadBtn.style.display = 'inline-flex';
        shareBar.style.display = 'flex';
        applyBtn.style.display = 'none';
        
        setTimeout(()=>{
          progressContainer.style.display = 'none';
          progressFill.style.width = '0%';
        },2000);
        
        // Initialize share buttons
        initShareButtons(
          'Add Page Numbers to PDF',
          'Check out this PDF page numbering tool',
          window.location.href.split('?')[0]
        );
        
      }catch(e){
        console.error(e);
        alert('Error processing PDF: '+e.message);
        progressContainer.style.display = 'none';
        applyBtn.disabled = false;
      }
    }
    
    // Render PDF preview with multiple pages at fixed dimensions
    async function renderPdfPreview(pdfBlob){
      const previewContainer = document.getElementById('previewContainer');
      previewContainer.innerHTML = ''; // Clear existing content
      
      try{
        const arrayBuffer = await pdfBlob.arrayBuffer();
        const pdf = await PDFDocument.load(arrayBuffer);
        const pages = pdf.getPages();
        const totalPages = pages.length;
        
        // Use pdf.js for rendering (if available) or create placeholders
        if(typeof pdfjsLib !== 'undefined'){
          const loadingTask = pdfjsLib.getDocument(arrayBuffer);
          const pdfDoc = await loadingTask.promise;
          
          for(let pageNum = 1; pageNum <= totalPages; pageNum++){
            const page = await pdfDoc.getPage(pageNum);
            
            // Create preview wrapper
            const pageWrapper = document.createElement('div');
            pageWrapper.className = 'pdf-page-preview';
            
            // Create canvas for this page
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            
            // Set viewport to match 8.5cm x 11cm (A4 ratio at 96 DPI = ~322px x 417px)
            const viewport = page.getViewport({scale: 1.0});
            const desiredWidth = 322; // 8.5cm at 96 DPI
            const scale = desiredWidth / viewport.width;
            const scaledViewport = page.getViewport({scale: scale});
            
            canvas.width = scaledViewport.width;
            canvas.height = scaledViewport.height;
            
            // Render PDF page into canvas
            await page.render({
              canvasContext: context,
              viewport: scaledViewport
            }).promise;
            
            pageWrapper.appendChild(canvas);
            
            // Add page number overlay to show how it will look
            const position = document.querySelector('input[name="position"]:checked').value;
            const format = document.querySelector('input[name="format"]:checked').value;
            const startNum = parseInt(document.getElementById('startNumber').value) || 1;
            const fontSize = parseInt(document.getElementById('fontSize').value);
            const fontColor = document.getElementById('fontColor').value;
            const pageText = document.getElementById('pageText').value || '{n}/{total}';
            
            let num = startNum + pageNum - 1;
            if(format==='i') num = toRoman(num).toLowerCase();
            else if(format==='I') num = toRoman(num);
            else if(format==='a') num = toAlpha(num-1).toLowerCase();
            else if(format==='A') num = toAlpha(num-1);
            
            // Handle {total} formatting
            let totalFormatted = totalPages;
            if(format==='i') totalFormatted = toRoman(totalPages).toLowerCase();
            else if(format==='I') totalFormatted = toRoman(totalPages);
            else if(format==='a') totalFormatted = toAlpha(totalPages-1).toLowerCase();
            else if(format==='A') totalFormatted = toAlpha(totalPages-1);
            
            let text = pageText.replace('{n}',num).replace('{total}',totalFormatted);
            if(!text.trim()) text = `${num}/${totalFormatted}`;
            
            const overlay = document.createElement('div');
            overlay.className = 'page-number-overlay ' + position;
            overlay.style.fontSize = fontSize + 'px';
            overlay.style.color = fontColor;
            overlay.textContent = text;
            pageWrapper.appendChild(overlay);
            
            // Add page label
            const label = document.createElement('div');
            label.style.cssText = 'text-align:center;padding:8px;font-size:12px;color:var(--gray)';
            label.textContent = `Page ${pageNum} of ${totalPages}`;
            pageWrapper.appendChild(label);
            
            previewContainer.appendChild(pageWrapper);
          }
        }else{
          // Fallback: show simple message if pdf.js not loaded
          for(let i=1; i<=totalPages; i++){
            const pageWrapper = document.createElement('div');
            pageWrapper.className = 'pdf-page-preview';
            pageWrapper.style.cssText += 'display:flex;align-items:center;justify-content:center;background:#f5f5f5';
            pageWrapper.innerHTML = `<p style="color:var(--gray)">Page ${i} of ${totalPages}<br><small>Preview ready</small></p>`;
            previewContainer.appendChild(pageWrapper);
          }
        }
        
      }catch(e){
        console.error('Preview render error:',e);
        previewContainer.innerHTML = '<p style="text-align:center;color:red;padding:20px">Error rendering preview</p>';
      }
    }
    
    function downloadPdf(){
      if(!processedPdfBlob) return alert('Please apply page numbers first');
      const outputName = fileName.replace(/\.pdf$/i,'')+'_numbered.pdf';
      saveAs(processedPdfBlob, outputName);
    }
    
    function toRoman(num){
      const lookup={M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};
      let str='';
      for(let i of Object.keys(lookup)){
        const q = Math.floor(num/lookup[i]);
        num -= q*lookup[i];
        str += i.repeat(q);
      }
      return str;
    }
    
    function toAlpha(num){
      let s='';
      while(num>=0){
        s = String.fromCharCode(65+(num%26)) + s;
        num = Math.floor(num/26)-1;
      }
      return s||'A';
    }
    
    // Event listeners
    document.addEventListener('DOMContentLoaded',()=>{
      init();
      document.getElementById('applyBtn').addEventListener('click',applyPageNumbers);
      document.getElementById('downloadBtn').addEventListener('click',downloadPdf);
      document.getElementById('fontColor').addEventListener('input',updatePreview);
      updatePreview();
    });
  </script>
    
<script src="js/auth.js" type="module"></script>

    <footer>
        <div class="container footer-inner">
            <div class="footer-company-links">
                <span>Company</span>
                <a href="index.html#about">About Us</a>
                <a href="index.html#contact">Contact</a>
                <a href="pricing.html">Pricing</a>
                <a href="privacy-policy.html">Privacy Policy</a>
                <a href="terms-of-service.html">Terms of Service</a>
                <a href="dmca-en.html">DMCA</a>
                <a href="blog.html">Blog</a>
            <a href="sitemap.xml">Sitemap</a>
                <a href="feedback.html">Feedback</a></div>
            <p class="footer-brand-line">&copy; easyjpgtopdf &mdash; Free PDF &amp; Image Tools for everyone. All rights reserved.</p>
                        <p class="footer-credits">
                Thanks to every open-source contributor powering this site. <a href="attributions.html">See full acknowledgements</a>.
            </p>
            <div class="footer-social-search" style="display: flex; align-items: center; justify-content: space-between; margin-top: 20px; padding-top: 20px; border-top: 1px solid #444; flex-wrap: wrap; gap: 15px;">
                <div class="footer-social-links" style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                                        <a href="https://x.com/easyjpgtopdf" target="_blank" rel="noopener noreferrer" title="Follow us on X (Twitter)" style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; color: #aaa; text-decoration: none; transition: all 0.3s; border-radius: 50%;" onmouseover="this.style.color='#fff'; this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.color='#aaa'; this.style.background='transparent'">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                    </a>
                                        <a href="https://www.youtube.com/@EasyJpgtoPdf" target="_blank" rel="noopener noreferrer" title="Subscribe to our YouTube channel" style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; color: #aaa; text-decoration: none; transition: all 0.3s; border-radius: 50%;" onmouseover="this.style.color='#fff'; this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.color='#aaa'; this.style.background='transparent'">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                    </a>
                    <div style="display: inline-flex; align-items: center; gap: 8px; color: #aaa; cursor: default;" title="Mobile App Coming Soon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.95-3.24-1.44-2.24-1.01-4.33-1.95-5.99-3.22C2.79 14.25.99 12.12.99 9.12c0-2.23 1.21-4.15 3.29-5.19.4-.2.81-.38 1.24-.52.7-.23 1.23-.52 1.62-.82.49-.38.85-.88 1.06-1.46.19-.57.24-1.17.14-1.8-.09-.63-.29-1.24-.58-1.81L7.76.36c.16-.24.35-.45.57-.62.22-.17.46-.3.72-.4.26-.1.54-.15.82-.15.28 0 .56.05.82.15.26.1.5.23.72.4.22.17.41.38.57.62l1.39 2.06c.29.57.49 1.18.58 1.81.1.63.05 1.23-.14 1.8-.21.58-.57 1.08-1.06 1.46-.39.3-.92.59-1.62.82-.43.14-.84.32-1.24.52-2.08 1.04-3.29 2.96-3.29 5.19 0 3 1.8 5.13 4.5 6.5 1.66 1.27 3.75 2.21 5.99 3.22 1.16.49 2.15.94 3.24 1.44 1.03.48 2.1.55 3.08-.4 1.01-.98 1.01-2.4.01-3.38z"/>
                        </svg>
                        <span style="font-size: 0.9rem;">App Coming Soon</span>
                    </div>
                </div>
                <div class="footer-search" style="flex: 1; min-width: 200px; max-width: 300px;">
                                        <form action="search.html" method="get" style="display: flex; gap: 5px;">
                        <input type="text" name="q" placeholder="Search our site..." style="flex: 1; padding: 8px 12px; border: 1px solid #555; border-radius: 4px; background: #2a2a2a; color: #fff; font-size: 0.9rem; outline: none;" onfocus="this.style.borderColor='#4361ee'" onblur="this.style.borderColor='#555'">
                        <button type="submit" style="padding: 8px 15px; background: #4361ee; border: none; border-radius: 4px; color: #fff; cursor: pointer; transition: background 0.3s;" onmouseover="this.style.background='#3a0ca3'" onmouseout="this.style.background='#4361ee'">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                            </svg>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </footer>
    <script src="js/global-components.js"></script>
    <script>
    // Ensure header loads - multiple attempts to guarantee it works
    (function() {
        function tryLoadHeader() {
            if (typeof loadGlobalHeader === 'function') {
                try {
                    loadGlobalHeader();
                    return true;
                } catch (e) {
                    console.error('Error calling loadGlobalHeader:', e);
                }
            }
            return false;
        }
        
        // Try immediately if script already loaded
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
            if (!tryLoadHeader()) {
                // Script not loaded yet, wait for it
                var attempts = 0;
                var maxAttempts = 60; // 3 seconds total
                var checkHeader = setInterval(function() {
                    attempts++;
                    if (tryLoadHeader() || attempts >= maxAttempts) {
                        clearInterval(checkHeader);
                    }
                }, 50);
            }
        } else {
            // Wait for DOM to be ready
            document.addEventListener('DOMContentLoaded', function() {
                if (!tryLoadHeader()) {
                    var attempts = 0;
                    var maxAttempts = 40;
                    var checkHeader = setInterval(function() {
                        attempts++;
                        if (tryLoadHeader() || attempts >= maxAttempts) {
                            clearInterval(checkHeader);
                        }
                    }, 50);
                }
            });
        }
        
        // Final backup attempt on window load
        window.addEventListener('load', function() {
            setTimeout(function() {
                if (!document.querySelector('header') && typeof loadGlobalHeader === 'function') {
                    loadGlobalHeader();
                }
            }, 100);
        });
    })();
    </script>

    <section class="faq-section" style="margin: 40px 0; padding: 40px; background: #f8f9ff; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <h2 style="font-size: 2rem; color: #4361ee; margin-bottom: 30px; text-align: center;">
            <i class="fas fa-question-circle" style="margin-right: 10px;"></i>
            Frequently Asked Questions
        </h2>
        <div class="faq-container" style="max-width: 800px; margin: 0 auto;">
            <div class="faq-item" style="margin-bottom: 20px; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #4361ee; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <h3 style="font-size: 1.2rem; color: #0b1630; margin-bottom: 10px; cursor: pointer; display: flex; align-items: center;" onclick="toggleFaq(this)">
                    <i class="fas fa-chevron-right" style="color: #4361ee; margin-right: 10px; transition: transform 0.3s;"></i>
                    How accurate is the conversion?
                </h3>
                <div class="faq-answer" style="font-size: 1rem; color: #56607a; line-height: 1.6; margin-top: 10px; display: none; padding-left: 30px;">
                    Our conversion tools maintain 99% accuracy, preserving all formatting, fonts, and layout from your original files.
                </div>
            </div>
            <div class="faq-item" style="margin-bottom: 20px; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #4361ee; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <h3 style="font-size: 1.2rem; color: #0b1630; margin-bottom: 10px; cursor: pointer; display: flex; align-items: center;" onclick="toggleFaq(this)">
                    <i class="fas fa-chevron-right" style="color: #4361ee; margin-right: 10px; transition: transform 0.3s;"></i>
                    What file sizes are supported?
                </h3>
                <div class="faq-answer" style="font-size: 1rem; color: #56607a; line-height: 1.6; margin-top: 10px; display: none; padding-left: 30px;">
                    Free users can convert files up to 10MB. Premium users can process files up to 100MB with faster processing.
                </div>
            </div>
            <div class="faq-item" style="margin-bottom: 20px; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #4361ee; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <h3 style="font-size: 1.2rem; color: #0b1630; margin-bottom: 10px; cursor: pointer; display: flex; align-items: center;" onclick="toggleFaq(this)">
                    <i class="fas fa-chevron-right" style="color: #4361ee; margin-right: 10px; transition: transform 0.3s;"></i>
                    Will my data be secure?
                </h3>
                <div class="faq-answer" style="font-size: 1rem; color: #56607a; line-height: 1.6; margin-top: 10px; display: none; padding-left: 30px;">
                    Yes, all files are processed securely and automatically deleted after conversion. We never store or share your documents.
                </div>
            </div>
            <div class="faq-item" style="margin-bottom: 20px; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #4361ee; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <h3 style="font-size: 1.2rem; color: #0b1630; margin-bottom: 10px; cursor: pointer; display: flex; align-items: center;" onclick="toggleFaq(this)">
                    <i class="fas fa-chevron-right" style="color: #4361ee; margin-right: 10px; transition: transform 0.3s;"></i>
                    Can I convert multiple files at once?
                </h3>
                <div class="faq-answer" style="font-size: 1rem; color: #56607a; line-height: 1.6; margin-top: 10px; display: none; padding-left: 30px;">
                    Yes, premium users can convert multiple files simultaneously. Free users can process one file at a time.
                </div>
            </div>
            <div class="faq-item" style="margin-bottom: 20px; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #4361ee; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <h3 style="font-size: 1.2rem; color: #0b1630; margin-bottom: 10px; cursor: pointer; display: flex; align-items: center;" onclick="toggleFaq(this)">
                    <i class="fas fa-chevron-right" style="color: #4361ee; margin-right: 10px; transition: transform 0.3s;"></i>
                    What formats are supported?
                </h3>
                <div class="faq-answer" style="font-size: 1rem; color: #56607a; line-height: 1.6; margin-top: 10px; display: none; padding-left: 30px;">
                    We support all major file formats. Check the tool page for specific format compatibility.
                </div>
            </div>
        </div>
    </section>

    <script>
    function toggleFaq(element) {
        const answer = element.nextElementSibling;
        const icon = element.querySelector('i');
        const isOpen = answer.style.display === 'block';

        answer.style.display = isOpen ? 'none' : 'block';
        icon.style.transform = isOpen ? 'rotate(0deg)' : 'rotate(90deg)';
    }
    </script>

    

    <section class="feedback-section" style="margin: 40px 0; padding: 40px; background: #f8f9ff; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <h2 style="font-size: 2rem; color: #4361ee; margin-bottom: 30px; text-align: center;">
            <i class="fas fa-comments" style="margin-right: 10px;"></i>
            Reviews & Comments
        </h2>
        <div style="text-align: center; margin-bottom: 30px;">
            <a href="feedback.html" style="display: inline-flex; align-items: center; gap: 8px; color: #4361ee; text-decoration: none; font-weight: 600; font-size: 1rem; transition: color 0.3s;" onmouseover="this.style.color='#3a0ca3'" onmouseout="this.style.color='#4361ee'">
                <i class="fas fa-external-link-alt"></i>
                View All Comments
            </a>
        </div>
        
        <div class="feedback-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; align-items: flex-start; max-width: 1200px; margin: 0 auto;">
            <!-- Left Side: Comments List -->
            <div class="feedback-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); min-height: 400px; max-height: 600px; overflow-y: auto;">
                <div class="thread-header" style="margin-bottom: 20px; border-bottom: 2px solid #e2e6ff; padding-bottom: 12px;">
                    <h3 style="font-size: 1.3rem; color: #0b1630; margin-bottom: 8px;">Live Comments</h3>
                    <p class="feedback-hint" style="font-size: 0.85rem; color: #9ca3af; margin: 0;">Share your experience and see what others are saying.</p>
                </div>
                <ul class="comment-list" id="feedbackList" style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 16px;">
                    <li class="feedback-muted" id="feedback-empty-state" style="text-align: center; padding: 40px 20px; color: #9ca3af; font-size: 0.95rem;">No comments yet. Start the conversation!</li>
                </ul>
            </div>
            
            <!-- Right Side: Feedback Form -->
            <div class="feedback-form-card" style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); position: sticky; top: 20px;">
                <h3 style="font-size: 1.3rem; color: #0b1630; margin-bottom: 20px;">
                    <i class="fas fa-edit" style="color: #4361ee; margin-right: 8px;"></i>
                    Share Your Feedback
                </h3>
                <form id="feedbackForm" style="display: flex; flex-direction: column; gap: 15px;">
                    <div class="form-group">
                        <label for="feedbackName" style="display: block; margin-bottom: 8px; color: #56607a; font-weight: 600; font-size: 0.9rem;">Your Name</label>
                        <input type="text" id="feedbackName" placeholder="Enter your name" required style="width: 100%; padding: 12px 16px; border: 1px solid #e2e6ff; border-radius: 8px; font-size: 0.95rem; transition: border-color 0.3s; box-sizing: border-box;" onfocus="this.style.borderColor='#4361ee'" onblur="this.style.borderColor='#e2e6ff'">
                    </div>
                    <div class="form-group">
                        <label for="feedbackMessage" style="display: block; margin-bottom: 8px; color: #56607a; font-weight: 600; font-size: 0.9rem;">Your Comment</label>
                        <textarea id="feedbackMessage" placeholder="Write your feedback or comment here..." required rows="5" style="width: 100%; padding: 12px 16px; border: 1px solid #e2e6ff; border-radius: 8px; font-size: 0.95rem; resize: vertical; transition: border-color 0.3s; font-family: inherit; box-sizing: border-box;" onfocus="this.style.borderColor='#4361ee'" onblur="this.style.borderColor='#e2e6ff'"></textarea>
                    </div>
                    <button type="submit" style="background: linear-gradient(135deg, #4361ee, #3a0ca3); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; width: 100%;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(67, 97, 238, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
                        Submit Feedback
                    </button>
                </form>
                <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e2e6ff;">
                    <a href="feedback.html" style="color: #4361ee; text-decoration: none; font-weight: 600; font-size: 0.9rem; display: inline-flex; align-items: center; gap: 8px; transition: color 0.3s;" onmouseover="this.style.color='#3a0ca3'" onmouseout="this.style.color='#4361ee'">
                        <i class="fas fa-arrow-right"></i>
                        View All Feedback
                    </a>
                </div>
            </div>
        </div>
    </section>

    <style>
    @media (max-width: 768px) {
        .feedback-grid {
            grid-template-columns: 1fr !important;
        }
        .feedback-form-card {
            position: static !important;
        }
    }
    </style>

    <script>
    // Store feedback in localStorage (in production, use backend API)
    const currentPage = window.location.pathname.split('/').pop() || 'index.html';
    
    // Load feedbacks for this page (max 3, only genuine user comments)
    function loadFeedbacks() {
        const storedFeedbacks = JSON.parse(localStorage.getItem('feedbacks') || '{}');
        const pageFeedbacks = (storedFeedbacks[currentPage] || []).slice(0, 3);
        const feedbackList = document.getElementById('feedbackList');
        const emptyState = document.getElementById('feedback-empty-state');
        
        if (!feedbackList) return;
        
        // Clear existing content
        feedbackList.innerHTML = '';
        
        if (pageFeedbacks.length === 0) {
            // Show empty state
            if (emptyState) {
                feedbackList.appendChild(emptyState);
            } else {
                const empty = document.createElement('li');
                empty.className = 'feedback-muted';
                empty.id = 'feedback-empty-state';
                empty.style.cssText = 'text-align: center; padding: 40px 20px; color: #9ca3af; font-size: 0.95rem;';
                empty.textContent = 'No comments yet. Start the conversation!';
                feedbackList.appendChild(empty);
            }
            return;
        }
        
        // Remove empty state
        if (emptyState) {
            emptyState.remove();
        }
        
        // Display genuine user feedbacks
        pageFeedbacks.forEach(fb => {
            const li = document.createElement('li');
            li.className = 'live-comment';
            li.style.cssText = 'background: #f8f9ff; padding: 16px; border-radius: 8px; border-left: 3px solid #4361ee; margin-bottom: 12px;';
            
            const header = document.createElement('div');
            header.style.cssText = 'display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;';
            
            const nameDiv = document.createElement('div');
            const name = document.createElement('h4');
            name.style.cssText = 'font-size: 1rem; color: #0b1630; margin: 0 0 4px 0; font-weight: 600;';
            name.textContent = fb.name || 'Anonymous';
            
            const time = document.createElement('span');
            time.style.cssText = 'font-size: 0.8rem; color: #9ca3af;';
            time.textContent = fb.date || 'Recently';
            
            nameDiv.appendChild(name);
            nameDiv.appendChild(time);
            header.appendChild(nameDiv);
            
            li.appendChild(header);
            
            const body = document.createElement('p');
            body.style.cssText = 'color: #56607a; line-height: 1.6; margin: 0 0 12px 0; font-size: 0.9rem;';
            body.textContent = fb.message || '';
            li.appendChild(body);
            
            // Add reply if exists
            if (fb.reply) {
                const replyDiv = document.createElement('div');
                replyDiv.style.cssText = 'margin-left: 20px; padding: 12px; background: white; border-radius: 6px; margin-top: 10px; border-left: 2px solid #4361ee;';
                
                const replyHeader = document.createElement('div');
                replyHeader.style.cssText = 'display: flex; align-items: center; gap: 8px; margin-bottom: 6px;';
                
                const replyIcon = document.createElement('i');
                replyIcon.className = 'fas fa-reply';
                replyIcon.style.cssText = 'color: #4361ee; font-size: 0.85rem;';
                
                const replyLabel = document.createElement('strong');
                replyLabel.style.cssText = 'color: #4361ee; font-size: 0.85rem;';
                replyLabel.textContent = 'Admin Reply:';
                
                replyHeader.appendChild(replyIcon);
                replyHeader.appendChild(replyLabel);
                replyDiv.appendChild(replyHeader);
                
                const replyText = document.createElement('p');
                replyText.style.cssText = 'color: #56607a; font-size: 0.85rem; line-height: 1.5; margin: 0;';
                replyText.textContent = fb.reply;
                replyDiv.appendChild(replyText);
                
                li.appendChild(replyDiv);
            }
            
            feedbackList.appendChild(li);
        });
    }
    
    // Handle feedback form submission
    const feedbackForm = document.getElementById('feedbackForm');
    if (feedbackForm) {
        feedbackForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('feedbackName').value.trim();
            const message = document.getElementById('feedbackMessage').value.trim();
            
            if (!name || !message) {
                alert('Please fill in all fields');
                return;
            }
            
            const feedback = {
                name: name,
                message: message,
                date: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }),
                page: currentPage
            };
            
            // Store in localStorage
            const storedFeedbacks = JSON.parse(localStorage.getItem('feedbacks') || '{}');
            if (!storedFeedbacks[currentPage]) {
                storedFeedbacks[currentPage] = [];
            }
            storedFeedbacks[currentPage].unshift(feedback);
            localStorage.setItem('feedbacks', JSON.stringify(storedFeedbacks));
            
            // Reset form
            this.reset();
            
            // Reload feedbacks
            loadFeedbacks();
            
            alert('Thank you for your feedback!');
        });
    }
    
    // Load feedbacks on page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadFeedbacks);
    } else {
        loadFeedbacks();
    }
    </script>

        
</body>
</html>
